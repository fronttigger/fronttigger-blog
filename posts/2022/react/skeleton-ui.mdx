---
title: ë¹ˆìë¦¬ë¥¼ ëŒ€ì‹ í•´ì¤„ Skeleton ì»´í¬ë„ŒíŠ¸ êµ¬í˜„í•˜ê¸° (feat. emotion) #required
tags:
  - react
  - emotion
  - ux
published: true # required
date: '2022. 5. 23' # required
description: 'ë¹„ì›€ì˜ ë¯¸í•™ì€ ì–´ë””ë¡œ.. â˜ ï¸' # required
thumbnailImg: '/thumbnail/2022/04/react/react-hook.png' # required
---

import Image from './src/components/image'

Skeleton ì»´í¬ë„ŒíŠ¸ëŠ” í†µí•´ ì‹¤ì œ ë°ì´í„°ê°€ ë³´ì—¬ì§€ê¸° ì „ì— ê·¸ë ¤ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸ë‹¤.

ë¬¼ë¡  í™”ë©´ì„ êµ¬ì„±í•¨ì— ìˆì–´ì„œ í•„ìˆ˜ì ì¸ ì»´í¬ë„ŒíŠ¸ëŠ” ì•„ë‹ˆê² ì§€ë§Œ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ìœ¼ë¡œëŠ” ì‚¬ìš©ìì˜ **ì´íƒˆë°©ì§€**, ê¸‰ê²©í•œ **ë ˆì´ì•„ì›ƒ ì´ë™** ë°©ì§€, ê¸°ì¡´ **ë¡œë”©** ì»´í¬ë„ŒíŠ¸ ëŒ€ì²´ ë“± ë§ì€ ì´ìœ ë¡œ ì‚¬ìš©ë˜ê³  ìˆë‹¤.

ë°”ë¡œ ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ë‹¤.

<Image src="/images/2022/05/react/wanted-skeleton.png" alt="skeleton" width="100%" />

ìœ„ í™”ë©´ì€ ì›í‹°ë“œì—ì„œ ì±„ìš©ì •ë³´ ë°ì´í„°ë¥¼ ê·¸ë ¤ì£¼ê¸° ì „ ê·¸ë ¤ì¤„ ìœ„ì¹˜ì— ë¯¸ë¦¬ ì»¨í…ì¸ ì˜ ë ˆì´ì•„ì›ƒì„ ì°¨ì§€í•˜ê³  ìˆëŠ” í˜•íƒœì´ë‹¤.

ì´ë ‡ê²Œ ë¯¸ë¦¬ ì»¨í…ì¸  ì˜ì—­ì„ ì°¨ì§€í•˜ê³  ëŒ€ê¸°í•œë‹¤ë©´ ì‚¬ìš©ìëŠ” í•´ë‹¹ ì»¨í…ì¸ ì˜ ìœ„ì¹˜ë¥¼ **ì˜ˆì¸¡**í•  ìˆ˜ ìˆìœ¼ë©° ëœ¬ê¸ˆì—†ì´ ì»¨í…ì¸ ê°€ ë“±ì¥í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì¢‹ì€ ì‚¬ìš©ì„±ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤.

ìœ„ì™€ ì´ì–´ì§€ëŠ” ê°œë…ìœ¼ë¡œ [CLS(Cumulative Layout Shift)](https://web.dev/i18n/ko/cls/)ë¼ëŠ” ê²ƒì„ í†µí•´ ì˜ˆê¸°ì¹˜ ì•Šì€ ë ˆì´ì•„ì›ƒ ì´ë™ì„ ì¸¡ì •í•˜ì—¬ ì ìˆ˜ë¥¼ ë§¤ê¸°ê¸°ë„ í•˜ëŠ” ë“± ì‚¬ìš©ì„±ì—ì„œ êµ‰ì¥íˆ ì¤‘ìš”í•œ ê°œë…ìœ¼ë¡œ ìë¦¬ë§¤ê¹€ í–ˆë‹¤.

ì‹¤ì œ ì½”ë“œëŠ” [Github](https://github.com/fronttigger/code-playground/tree/main/skeleton)ì— ìˆìœ¼ë‹ˆ í•„ìš”ì‹œ ì°¸ê³ í•˜ë©´ ëœë‹¤. ğŸ’»

## ì»´í¬ë„ŒíŠ¸ ê¸°ëŠ¥ ì •ì˜

ì¼ë‹¨ ìŠ¤ì¼ˆë ˆí†¤ ì»´í¬ë„ŒíŠ¸ê°€ ê°€ì§ˆ ê¸°ëŠ¥ì— ëŒ€í•´ì„œ ì •ì˜í•´ì•¼í–ˆë‹¤.

ì—¬ëŸ¬ê°€ì§€ ìë£Œë¥¼ ì°¾ì•„ë³´ë˜ ì¤‘ [Material UI](https://mui.com/material-ui/react-skeleton/)ì˜ ìŠ¤ì¼ˆë ˆí†¤ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¨ìˆœí•˜ë©´ì„œ ëª…í™•í–ˆë‹¤.

ì—¬ê¸°ì„œ ë‚˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ì— ëŒ€í•œ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ ì´ 7 ê°œì˜ propsë¡œ ì •ì˜í–ˆë‹¤.

- variant: ìŠ¤ì¼ˆë ˆí†¤ ì»´í¬ë„ŒíŠ¸ì˜ ëª¨ì–‘
- width: ë„“ì´
- height: ë†’ì´
- animation: ì• ë‹ˆë©”ì´ì…˜ ì¢…ë¥˜
- animationSpeed: ì• ë‹ˆë©”ì´ì…˜ ì†ë„
- waveColor: ì›¨ì´ë¸Œ ì• ë‹ˆë©”ì´ì…˜ ìƒ‰
- backgroundColor: ë°°ê²½ìƒ‰

## ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

### props typing

ë¨¼ì € ê° propsì— ëŒ€í•œ íƒ€ì´í•‘ì„ ì§„í–‰í–ˆë‹¤.

```typescript
// Skeleton/index.tsx
type VariantType = 'text' | 'circular' | 'rectangular'
type AnimationType = 'pulsate' | 'wave' | false

interface SkeletonProps {
  variant?: VariantType
  width?: string
  height?: string
  animation?: AnimationType
  animationSpeed?: number
  backgroundColor?: string
  waveColor?: string
}
```

### ìŠ¤íƒ€ì¼ êµ¬í˜„

propsì— ë”°ë¥¸ ìŠ¤íƒ€ì¼ì„ ë§Œë“¤ê¸° ìœ„í•´ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í–ˆë‹¤.

```typescript
import styled from '@emotion/styled'
// ìƒëµ..
const Container = styled.div<SkeletonProps>``

function Skeleton({
  variant,
  width,
  height,
  animation,
  animationSpeed,
  backgroundColor,
  waveColor,
}: SkeletonProps): JSX.Element {
  return (
    <Container
      variant={variant}
      width={width}
      height={height}
      animation={animation}
      animationSpeed={animationSpeed}
      backgroundColor={backgroundColor}
      waveColor={waveColor}
    />
  )
}

export default Skeleton
```

ì´ì œ ì •ì˜í•œ propsì— ëŒ€í•œ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¡°ê±´ì— ë§ëŠ” ìŠ¤íƒ€ì¼ì„ ì‘ì„±í•´ì£¼ë©´ ëœë‹¤.

### variant

ì¼ë‹¨ ì²«ë²ˆì§¸ë¡œ ëª¨ì–‘ì— ëŒ€í•œ ìŠ¤íƒ€ì¼ì„ ì •ì˜í–ˆë‹¤.

```typescript
import styled from '@emotion/styled'
import { css, SerializedStyles } from '@emotion/react'

const variants: { [key in VariantType]: SerializedStyles } = {
  text: css`
    border-radius: 4px;
  `,
  circular: css`
    border-radius: 50%;
  `,
  rectangular: css``,
}

const Container = styled.div<SkeletonProps>`
  ${({ variant }) => variants[variant || 'text']};
`

// ìƒëµ..
```

ê° ëª¨ì–‘ì— ëŒ€í•œ ìŠ¤íƒ€ì¼ì„ ê°ì²´ í˜•íƒœë¥¼ í†µí•´ í•´ë‹¹ typeì— ëŒ€í•œ cssë¥¼ ê°€ì ¸ì˜¤ë„ë¡ í–ˆë‹¤.

### width, height

ë†’ì´, ë„“ì´ëŠ” íŠ¹ë³„í•œ ê²ƒ ì—†ì´ ë¬¸ìì—´ í˜•íƒœë¡œ ë°›ì•„ì„œ ì²˜ë¦¬í•´ì£¼ì—ˆë‹¤.

```typescript
import styled from '@emotion/styled'
import { css, SerializedStyles } from '@emotion/react'

// ìƒëµ..

const Container = styled.div<SkeletonProps>`
  width: ${({ width }) => width};
  height: ${({ height }) => height};

  ${({ variant }) => variants[variant || 'text']};
`
```

### animation

[ì• ë‹ˆë©”ë‹ˆì…˜](https://mui.com/material-ui/react-skeleton/#animations)ì€ ë‘ ê°€ì§€ê°€ ìˆë‹¤.

ì²«ë²ˆì§¸ëŠ” pulsateì¸ë°, ì´ëŠ” ì‰½ê²Œ ë§í•˜ë©´ ê¹œë¹¡ì´ëŠ” íš¨ê³¼ë‹¤.

ë‘ë²ˆì§¸ëŠ” waveë¡œ ì¢Œì—ì„œ ìš°ë¡œ íŒŒë„ì¹˜ë“¯ì´ ì´ë™í•˜ëŠ” íš¨ê³¼ì´ë‹¤.

ì´ ë‘ê°€ì§€ë¥¼ keyframe í˜•íƒœë¡œ êµ¬í˜„í–ˆë‹¤.

```typescript
const pulsateAnimation = keyframes`
  0% {
    background-color: rgba(227, 227, 227);
  }
  50% {
    background-color: rgba(227, 227, 227, 0.6);
  }
  100% {
    background-color: rgba(227, 227, 227);
  }
`

const waveAnimation = keyframes`
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
`
```

ê·¸ëŸ°ë° ì—¬ê¸°ì„œ ê¸°ëŠ¥ ì •ì˜ë•Œ ì¶”ê°€í–ˆë˜ props ì¤‘Â animationSpeed, backgroundColor, waveColorê°€ ìˆë‹¤ëŠ” ê²ƒì„ ëˆˆì¹˜ì±˜ë‹¤. ğŸ§

ìœ„ ì„¸ê°€ì§€ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ëŒ€ì‘í•˜ê¸° ìœ„í•´ì„œëŠ” pulsateAnimationì˜ ê²½ìš° keyframeë¥¼ ë§Œë“¤ê¸°ë³´ë‹¨ background propì„ í™•ì¥í•  í•¨ìˆ˜ë¡œ ë§Œë“¤ê³ , ì´ë¥¼ í™œìš©í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ë©´ propsì— ë”°ë¥¸ ìŠ¤íƒ€ì¼ì„ êµ¬í˜„í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•˜ë‹¤.

```typescript
// ìƒëµ..
const getPulsateAnimation = (backgroundColor?: string) => keyframes`
  0% {
    background-color: ${backgroundColor};
  }
  50% {
    background-color: ${backgroundColor};
    opacity: 0.6;
  }
  100% {
    background-color: ${backgroundColor}
  }
`

function getBackgroundAnimation(
  animationType?: AnimationType,
  animationSpeed?: number,
  backgroundColor?: string,
  waveColor?: string,
): SerializedStyles {
  switch (animationType) {
    case 'pulsate':
    default: {
      return css`
        animation: ${getPulsateAnimation(backgroundColor)} ${`${animationSpeed}s`} ease-in-out 0.5s infinite;
      `
    }
    case 'wave': {
      return css`
        position: relative;
        overflow: hidden;

        &::before {
          content: '';
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          top: 0;
          width: 100%;
          height: 100%;
          transform: translateX(-100%);
          background: linear-gradient(90deg, transparent, ${waveColor}, transparent);
          animation: ${waveAnimation} ${`${animationSpeed}s`} ease-in-out 0.5s infinite;
        }
      `
    }
    case false: {
      return css``
    }
  }
}

const Container = styled.div<SkeletonProps>`
  width: ${({ width }) => width};
  height: ${({ height }) => height};
  background-color: ${({ backgroundColor }) => backgroundColor};

  ${({ variant }) => variants[variant || 'text']};
  ${({ animation, animationSpeed, backgroundColor, waveColor }) =>
    getBackgroundAnimation(animation, animationSpeed, backgroundColor, waveColor)};
`

// ìƒëµ..
```

ìœ„ì²˜ëŸ¼ ì• ë‹ˆë©”ì´ì…˜ì˜ caseë¥¼ ì°¾ì•„ í•´ë‹¹ propì— ë§ëŠ” ìŠ¤íƒ€ì¼ì„ ë°˜í™˜í•´ì£¼ê²Œ ì²˜ë¦¬í–ˆë‹¤.

ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ì— ê¸°ë³¸ê°’ì„ ì •ì˜í•´ì£¼ì—ˆë‹¤.

```typescript
const BASE_BACKGROUND_COLOR = 'rgba(227, 227, 227)'
const WAVE_BACKGROUND_COLOR = 'rgba(0, 0, 0, 0.07)'

// ìƒëµ..

function Skeleton({
  variant = 'text',
  width = '100%',
  height = '100%',
  animation = 'pulsate',
  animationSpeed = 1.5,
  backgroundColor = BASE_BACKGROUND_COLOR,
  waveColor = WAVE_BACKGROUND_COLOR,
}: SkeletonProps): JSX.Element {
  return (
    <Container
      variant={variant}
      width={width}
      height={height}
      animation={animation}
      animationSpeed={animationSpeed}
      backgroundColor={backgroundColor}
      waveColor={waveColor}
    />
  )
}
```

ì ì´ì œ ì‹¤ì œë¡œ ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ì

## í…ŒìŠ¤íŠ¸

```typescript
// App.tsx
import React from 'react'
import './App.css'

import Skeleton from './skeleton'

function App() {
  return (
    <div className="App">
      <header className="App-header">
        <div style={{ width: 40, height: 40 }}>
          <Skeleton variant="circular" />
          <div style={{ width: 200, height: 100, marginTop: 10 }}>
            <Skeleton variant="rectangular" />
          </div>
          <div style={{ width: 140, height: 14, marginTop: 10 }}>
            <Skeleton variant="text" />
          </div>
          <div style={{ width: 100, height: 14, marginTop: 5 }}>
            <Skeleton variant="text" />
          </div>
        </div>
      </header>
    </div>
  )
}

export default App
```

<br />

<Image src="/images/2022/05/react/skeleton.gif" alt="skeleton" width="40%" />

<br />

<Image src="/images/2022/05/react/skeletonwave.gif" alt="skeleton" width="40%" />

ì˜ë„í•œëŒ€ë¡œ ì˜ ë™ì‘í•œë‹¤! ğŸ‰
