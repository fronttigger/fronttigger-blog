---
title: ë¦¬ì•¡íŠ¸ë¡œ í´ë¦½ë³´ë“œ ë³µì‚¬ ê¸°ëŠ¥ ë§Œë“¤ì–´ë³´ê¸° (feat. Custom Hook) #required
tags:
  - typescript
  - react
  - navigator
  - copy
published: true # required
date: '2021. 8. 16' # required
description: 'ëˆë³µì‚¬ í•˜ëŠ” ì½”ë“œëŠ” ì–´ë”” ì—†ë‚˜ ğŸ¤”' # required
thumbnailImg: '/thumbnail/2021/08/react/clipboard.png' # required
---

## í´ë¦½ë³´ë“œ

í´ë¦½ë³´ë“œëŠ” ê°œë°œì ë¿ë§Œ ì•„ë‹ˆë¼ ì¼ë°˜ ì›¹ ì‚¬ìš©ìë“¤ë„ ì•„ì£¼ ì˜ ì•Œê³ ìˆëŠ” ìš©ì–´ì¼ ê²ƒì´ë‹¤! ğŸ˜²

íŠ¹ì • ë¬¸êµ¬ë¥¼ ë³µì‚¬í•˜ê³  ì‹¶ì€ ìš•êµ¬ê°€ ìˆì„ ë•Œ, ë³µì‚¬í•  ì»¨í…ì¸ ë¥¼ ë“œë˜ê·¸ í›„ Ctrl + C í•˜ëŠ” ë°©ë²•ë„ ìˆì§€ë§Œ ê·¸ê±¸ ë” í¸ë¦¬í•˜ê²Œ í•˜ê¸° ìœ„í•´ ê°œë°œìë“¤ì€ **í´ë¦½ë³´ë“œ ë³µì‚¬**Â ë¼ëŠ” ë²„íŠ¼í˜•íƒœë¥¼ ë§Œë“¤ì–´ ì¡°ê¸ˆ ë” ìœ ì €ì—ê²Œ ì‚¬ìš©ì„±ì´ ë†’ì€ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê³  ìˆë‹¤.

í˜„ì¬ê¹Œì§€ë„ ìì£¼ ì‚¬ìš©ë˜ê³  ìˆê³  ì‹¤ì œë¡œ ë§ì€ ì„œë¹„ìŠ¤ì— ì ìš©ì´ ë˜ì–´ìˆë‹¤.

ì˜ˆì „ë¶€í„° í´ë¦½ë³´ë“œì— ê´€ë ¨ëœ ê¸°ëŠ¥ì„ ê°œë°œí•  ë• document ê°ì²´ì— ìˆëŠ” [**execCommand()**](https://developer.mozilla.org/ko/docs/Web/API/Document/execCommand) ë¼ëŠ” í•¨ìˆ˜ë¥¼ í†µí•´ ê°œë°œí•˜ì˜€ëŠ”ë°,

í•˜ì§€ë§Œ í˜„ì¬ëŠ”..

![deprecated](/images/2021/08/react/clipboard-deprecated.png)

ë³´ëŠ” ë°”ì™€ ê°™ì´ **Deprecated**ë˜ì–´ í˜„ì¬ ê°œë°œí•˜ëŠ” ê¸°ëŠ¥ì—ëŠ” ë‹¹ì—°íˆ ì‚¬ìš©í•˜ì§€ ë§ì•„ì•¼í•  ë¿ë”ëŸ¬ ì´ì „ì— ê°œë°œí–ˆë˜ ê¸°ëŠ¥ë“¤ë„ ìƒˆë¡­ê²Œ ëŒ€ì‘ì„ í•´ì£¼ì–´ì•¼ í•œë‹¤.. ğŸ˜¨

ê·¸ëŸ¬ë©´ ì´ë¥¼ ëŒ€ì²´í•  ìƒˆë¡­ê²Œ ì§€ì›ë˜ëŠ” APIë¥¼ í†µí•´ ë§Œë“¤ì–´ë³´ì!

## Clipboard API

ì´ì „ì—ëŠ” execCommand("copy")ë¥¼ í†µí•´ ê°œë°œí•˜ì˜€ë‹¤ë©´, í˜„ì¬ëŠ” ì •ì‹ìœ¼ë¡œ í´ë¦½ë³´ë“œ APIë¥¼ ì§€ì›í•˜ëŠ” ì „ì—­Â [navigator](https://developer.mozilla.org/en-US/docs/Web/API/Navigator) ê°ì²´ì—ì„œ
[clipboard API](https://developer.mozilla.org/ko/docs/Web/API/Clipboard_API)Â ë¥¼ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

clipboard APIì˜ ë©”ì†Œë“œë¥¼ ë³´ê²Œë˜ë©´ [writeText](https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/writeText)ë¼ëŠ” ë©”ì†Œë“œê°€ ìˆëŠ”ë°, ìš”ë†ˆì´ ë°”ë¡œ í´ë¦½ë³´ë“œ ë³µì‚¬ë¥¼ í•˜ê¸°ìœ„í•œ ì¹œêµ¬ë‹¤.

`writeText` ë©”ì†Œë“œëŠ” **Promise**ë¥¼Â ë°˜í™˜í•´ì£¼ê³  ìˆìœ¼ë©°, **IE**ì—ì„œëŠ” ì•„ì˜ˆ ì§€ì›ì´ ì•ˆë˜ê³  ìˆìœ¼ë‹ˆ ê¼­ ì¸ì§€í•´ì•¼í•œë‹¤. (ì•…ë§ˆ ê·¸ ìì²´.. ğŸ˜ˆ)

ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ ì½”ë“œë¥¼ í†µí•´ ë³µì‚¬ ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ë³´ì

```javascript
import React from 'react'
import './App.css'

function App() {
  const handleCopyClipBoard = async (text: string) => {
    try {
      await navigator.clipboard.writeText(text)

      alert('ë³µì‚¬ ì„±ê³µ!')
    } catch (error) {
      alert('ë³µì‚¬ ì‹¤íŒ¨!')
    }
  }

  return (
    <div className="App">
      <button onClick={() => handleCopyClipBoard('ë³µì‚¬ëœ í…ìŠ¤íŠ¸')}>ë³µì‚¬!!</button>
    </div>
  )
}

export default App
```

ìœ„ ì½”ë“œëŠ” ë²„íŠ¼ì„ í´ë¦­ì‹œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ë™ì‘í•˜ëŠ” ì½”ë“œë‹¤.

ì´ì œ ì´ê±¸ í™”ë©´ì—ì„œ ëˆŒëŸ¬ë³´ë©´..

![copy success](/images/2021/08/react/copy-success.png)

ì •ìƒì ìœ¼ë¡œ ì‘ë™ì´ ëœë‹¤!

ê·¸ë¦¬ê³  ì‹¤ì œë¡œ **ctrl + v**ë¥¼ ëˆ„ë¥´ë©´ "ë³µì‚¬ëœ í…ìŠ¤íŠ¸" ë¼ëŠ” í…ìŠ¤íŠ¸ê°€ ë³µì‚¬ê°€ ë˜ì–´ìˆë‹¤.

ì„œë¡ ì€ ë­”ê°€ êµ‰ì¥íˆ ê¸´ ëŠë‚Œì´ì—ˆëŠ”ë° ê¸ˆë°© ëì´ ë‚˜ë²„ë ¸ë‹¤.. ğŸ¤£

í´ë¦½ë³´ë“œë¥¼ ë³µì‚¬ í–ˆì„ ë•Œ **ë³µì‚¬ ì„±ê³µ ì—¬ë¶€**ë¥¼ ì•Œê³  ì‹¶ë‹¤ê±°ë‚˜ í˜¹ì€ í´ë¦½ë³´ë“œ ë³µì‚¬ ê¸°ëŠ¥ì´ ì—¬ëŸ¬êµ°ë°ì„œ ì‚¬ìš©ë  ì—¬ì§€ê°€ ìˆë‹¤ë©´,
ì¬í™œìš©ì„ ê°ì•ˆí•œ ì»¤ìŠ¤í…€ í›…ì„ í•˜ë‚˜ ë§Œë“¤ì–´ì„œ ê´€ë¦¬í•´ì•¼ê² ë‹¤ëŠ” ìƒê°ì´ ë¬¸ë“ ë“¤ì—ˆë‹¤.

ê·¸ë˜ì„œ ì¼ë‹¨ ì € ìš”êµ¬ì‚¬í•­ 2ê°œë¥¼ ê°€ì§€ê³  ì»¤ìŠ¤í…€ í›…ì„ ë§Œë“¤ì–´ë³´ì•˜ë‹¤.

## useCopyClipBoard

```javascript
import { useState } from 'react'

type onCopyFn = (text: string) => Promise<boolean>

function useCopyClipBoard(): [boolean, onCopyFn] {
  const [isCopy, setIsCopy] = useState(false)

  const onCopy: onCopyFn = async (text: string) => {
    try {
      await navigator.clipboard.writeText(text)
      setIsCopy(true)

      return true
    } catch (error) {
      console.error(error)
      setIsCopy(false)

      return false
    }
  }

  return [isCopy, onCopy]
}

export default useCopyClipBoard
```

**isCopy** ìƒíƒœë¥¼ í†µí•´ ë³µì‚¬ ì—¬ë¶€ë¥¼ ì•Œ ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì—ˆê³ , **onCopy** ì´ë²¤íŠ¸ë¥¼ í†µí•´ ì„±ê³µ ë° ì‹¤íŒ¨ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ í•´ì£¼ì—ˆë‹¤.

ì‹¤ì œ ì‚¬ìš©ë˜ëŠ” ì½”ë“œë¥¼ ë³´ì

```javascript
import React from 'react'
import './App.css'

import useCopyClipBoard from './useCopyClipBoard'

function App() {
  const [isCopy, onCopy] = useCopyClipBoard()

  const handleCopyClipBoard = (text: string) => {
    onCopy(text)
  }

  return (
    <div className="App">
      <button onClick={() => handleCopyClipBoard('ë³µì‚¬ëœ í…ìŠ¤íŠ¸')}>ë³µì‚¬!!</button>
      {isCopy && <span>ë³µì‚¬ ì™„ë£Œ!!</span>}
    </div>
  )
}

export default App
```

ì•„ê¹Œì™€ í¬ê²Œ ë‹¤ë¥¸ ë¶€ë¶„ì€ isCopyë¥¼ í†µí•´ **ì™„ë£Œ ì—¬ë¶€**ë¥¼ ì•Œ ìˆ˜ ìˆê³ , ê·¸ëƒ¥ ë§Œë“  í›…ì„ **ê°€ì ¸ì™€ì„œ ì‚¬ìš©**ë§Œ í•˜ë©´ ëœë‹¤ëŠ” ì ì´ë‹¤.

ì ê·¸ëŸ¼ ê²°ê³¼ëŠ” ì–´ë–»ê²Œ ë‚˜ì˜¬ê¹Œ?

![copy success to hooks](/images/2021/08/react/copy-hook-success.gif)

ì•„ì£¼ ì˜ ë™ì‘í•œë‹¤! ğŸ‰ğŸ‰ğŸ‰
